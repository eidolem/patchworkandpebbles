{{!< default}}
{{!-- The tag above means - insert everything in this file into the {body} of the default.hbs template --}}


{{!-- For masonry layout for index and tag pages https://masonry.desandro.com/ --}}
<script type="text/javascript" src="{{asset "js/vendor/masonry.min.js"}}"></script>
<script type="text/javascript" src="{{asset "js/vendor/imagesloaded.min.js"}}"></script>

<header>
	<div class="tag-page-header">
	    <div class="tag-page-num-posts">
	    	- All Posts -
	    </div>
	</div>
</header>


{{!-- The main content area --}}
<main class="tag-content grid">
    {{#get "posts" limit="all" include="tags"}}
        {{#foreach posts}}
            <div class="grid-item">
            	{{!-- empty element to define responsive widths --}}
            	<div class="grid-sizer"></div>
            	<div class="gutter-sizer"></div>
            	 {{> "post-card"}}
            </div>
        {{/foreach}}
    {{/get}}
</main> 


{{!--For Masonry--layout Masonry after each image loads --}}
<script>
  $('.grid').imagesLoaded().progress( function() {

    var grid = $('.grid').masonry({
        itemSelector: '.grid-item',
        columnWidth: '.grid-sizer',
        percentPosition: true, 
        gutter: '.gutter-sizer',
        stagger: 20
      });
    grid.masonry();
});
</script>
